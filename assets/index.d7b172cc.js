var ce=Object.defineProperty,le=Object.defineProperties;var ue=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable;var ee=(n,e,o)=>e in n?ce(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o,O=(n,e)=>{for(var o in e||(e={}))ne.call(e,o)&&ee(n,o,e[o]);if(M)for(var o of M(e))te.call(e,o)&&ee(n,o,e[o]);return n},L=(n,e)=>le(n,ue(e));var V=(n,e)=>{var o={};for(var s in n)ne.call(n,s)&&e.indexOf(s)<0&&(o[s]=n[s]);if(n!=null&&M)for(var s of M(n))e.indexOf(s)<0&&te.call(n,s)&&(o[s]=n[s]);return o};import{j as t,T as me,B,a as de,b as u,F as g,c as U,d as K,e as Q,f as P,g as F,h as Y,R as J,i as j,r as w,k as W,D as H,u as D,l as oe,m as he,n as pe,G as z,o as re,p as ge,q as X,M as fe,s as xe,t as R,v as we,C as be}from"./vendor.9dc4cc4f.js";const ye=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function o(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=o(r);fetch(r.href,i)}};ye();const f=o=>{var s=o,{children:n}=s,e=V(s,["children"]);return t(me,L(O({color:"white"},e),{children:n}))},Te=({children:n})=>t(B,{bgColor:"white",h:"100vh",maxHeight:"100vh",p:"2em",children:t(B,{bgColor:"#e93443",h:"100%",maxHeight:"100%",p:"6",children:n})}),b=o=>{var s=o,{children:n}=s,e=V(s,["children"]);return t(de,L(O({},e),{children:n}))},q=({label:n,time:e,onIncrease:o,onDecrease:s})=>u(g,{flexDirection:"column",align:"center",py:6,children:[t(f,{fontWeight:"bold",mb:2,children:n}),u(g,{justify:"space-between",align:"center",width:"20vw",children:[t(b,{onClick:s,children:"-"}),t(f,{children:e}),t(b,{onClick:o,children:"+"})]})]}),ve=({games:n,rounds:e,hasPause:o})=>{const s=n.length>5?["xx-small","xx-small","xx-small","x-small","small","medium"]:["small","small","small","medium","medium","medium"];return t(U,{children:u(K,{variant:"simple",fontSize:s,children:[t(Q,{children:u(P,{children:[t(F,{}),n.map((r,i)=>t(F,{color:"white",fontWeight:"extrabold",children:r.name},i))]})}),t(Y,{children:e.map((r,i)=>u(J.Fragment,{children:[i+1===Math.round(n.length/2+1)&&o&&u(P,{children:[t(j,{color:"white",fontWeight:"bold",children:"PAUSE"}),r.map((a,c)=>t(j,{color:"white",children:"-"},c))]}),u(P,{children:[u(j,{color:"white",fontWeight:"bold",children:["Tour ",i+1]}),r.map(([a,c],l)=>u(j,{color:"white",children:[a.name," vs ",c.name]},l))]})]},i))})]})})},Se=({games:n,round:e})=>{const o=n.length>5?["xx-small","xx-small","xx-small","x-small","small","medium"]:["small","small","small","medium","medium","medium"];return t(U,{children:u(K,{variant:"simple",fontSize:o,children:[t(Q,{children:u(P,{children:[t(F,{}),n.map((s,r)=>t(F,{children:s.name},r))]})}),t(Y,{children:u(P,{children:[t(j,{paddingTop:1,children:"Prochain tour"}),e.map(([s,r],i)=>u(j,{color:"white",paddingTop:1,children:[s.name," vs ",r.name]},i))]})})]})})},Ee=n=>{const[e,o]=w.exports.useState(n);return w.exports.useEffect(()=>{const s=setInterval(()=>{o(r=>r!==0?r-1:0)},1e3);return()=>clearInterval(s)},[]),e},Z=({startTime:n,onTimeEnd:e=()=>{}})=>{const o=Ee(n);return w.exports.useEffect(()=>{o===0&&e()},[o]),u(W,{children:[t(H,{my:4}),t(f,{fontSize:"6xl",fontWeight:"bold",children:new Date(o*1e3).toISOString().slice(14,19)}),t(H,{my:4})]})},Ce=n=>{if(n.length!==4)throw new Error("Invalid number of teams");const[e,o,s,r]=n;return[[[e,o],[s,r]],[[s,r],[e,o]]]},Re=n=>{if(n.length!==6)throw new Error("Invalid number of t");const[e,o,s,r,i,a]=n;return[[[e,o],[s,r],[i,a]],[[s,a],[e,i],[o,r]],[[r,i],[o,a],[e,s]]]},De=n=>{if(n.length!==8)throw new Error("Invalid number of teams");const[e,o,s,r,i,a,c,l]=n;return[[[e,o],[r,a],[i,c],[s,l]],[[s,r],[e,c],[a,l],[o,i]],[[i,a],[o,l],[e,s],[r,c]],[[c,l],[s,i],[o,r],[e,a]]]},Ie=n=>{if(n.length!==10)throw new Error("Invalid number of teams");const[e,o,s,r,i,a,c,l,m,d]=n;return[[[e,o],[d,r],[c,a],[i,l],[s,m]],[[s,r],[e,a],[d,l],[c,m],[i,o]],[[i,a],[s,c],[e,m],[d,o],[r,l]],[[c,l],[i,m],[s,o],[e,r],[d,a]],[[m,d],[o,l],[i,r],[s,a],[e,c]]]},_e=n=>{if(n.length!==12)throw new Error("Invalid number of teams");const[e,o,s,r,i,a,c,l,m,d,h,p]=n;return[[[s,a],[r,h],[c,l],[o,d],[e,p],[i,m]],[[i,d],[e,s],[o,a],[r,c],[l,m],[h,p]],[[o,l],[a,m],[e,r],[i,p],[c,h],[s,d]],[[e,h],[c,p],[m,d],[s,l],[i,a],[o,r]],[[c,m],[o,i],[s,p],[a,h],[r,d],[e,l]],[[r,p],[l,d],[i,h],[e,m],[o,s],[a,c]]]},je=n=>{if(n.length!==14)throw new Error("Invalid number of teams");const[e,o,s,r,i,a,c,l,m,d,h,p,S,v]=n;return[[[o,l],[s,v],[r,S],[i,p],[a,h],[c,d],[e,m]],[[c,S],[e,p],[o,h],[s,d],[r,m],[i,l],[a,v]],[[a,p],[c,h],[e,d],[o,m],[s,l],[r,v],[i,S]],[[i,h],[a,d],[c,m],[e,l],[o,v],[s,S],[r,p]],[[s,m],[r,l],[i,v],[a,S],[c,p],[e,h],[o,d]],[[r,d],[i,m],[a,l],[c,v],[e,S],[o,p],[s,h]],[[e,v],[o,S],[s,p],[r,h],[i,d],[a,m],[c,l]]]},Pe=n=>{switch(n.length){case 4:return Ce(n);case 6:return Re(n);case 8:return De(n);case 10:return Ie(n);case 12:return _e(n);case 14:return je(n);default:throw new Error("Invalid number of teams")}},se=w.exports.createContext(void 0),$e=({children:n})=>{const e=D(),[o,s]=w.exports.useState(!1),[r,i]=w.exports.useState([]),[a,c]=w.exports.useState([]),[l,m]=w.exports.useState([]),[d,h]=w.exports.useState(null),p=x=>{const T=Array.from({length:x},(k,G)=>G+1).map((k,G)=>({name:`\xC9quipe ${k.toString()}`,wins:0}));i(T),c(Pe(T))},S=(x,C)=>{l.includes(x)?v(x):$(x,C)},v=x=>m(C=>C.filter(T=>T!==x)),$=(x,C)=>C?null:m(T=>[...T,x]),I=(x,C,T)=>{const k=x+C,G={totalDurationSeconds:(k*l.length+T)*60,pauseDurationSeconds:o?5:T*60,roundDurationSeconds:o?8:k*60,playDurationSeconds:o?5:x*60};h(G)},_=x=>{const C=r.map(T=>({name:T.name,wins:x.includes(T.name)?T.wins+1:T.wins}));i(C)},y=()=>{i([]),m([]),h(null),e("/")};return console.log(r),t(se.Provider,{value:{teams:r,rounds:a,selectedGames:l,initializeTeams:p,toggleSelectGame:S,setCompetitionTime:I,eventTiming:d,countVictories:_,setTestMode:s,reset:y},children:n})},E=()=>{const n=w.exports.useContext(se);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},Be=({})=>{const{teams:n}=E(),e=n.sort((o,s)=>s.wins-o.wins);return t(U,{children:u(K,{variant:"simple",children:[t(Q,{children:t(P,{children:t(F,{colSpan:e.length>7?4:2,color:"white",fontSize:"large",children:"Classement"})})}),t(Y,{children:e.map((o,s)=>t(J.Fragment,{children:u(P,{children:[t(j,{color:"white",paddingTop:1,paddingBottom:1,children:o.name}),t(j,{color:"white",paddingTop:1,paddingBottom:1,children:o.wins})]})},s))})]})})},ke="Bonjour",Fe="{{count}} \xE9quipes";var We={helloWorld:ke,teams:Fe};const Ge="{{count}} jour",Me="{{count}} jours",Oe="{{count}} heure",Ne="{{count}} heures",Ae="{{count}} minute",ze="{{count}} minutes",Le="{{count}} seconde",Ve="{{count}} secondes";var qe={days_one:Ge,days_other:Me,hours_one:Oe,hours_other:Ne,minutes_one:Ae,minutes_other:ze,seconds_one:Le,seconds_other:Ve};const He={common:We,time:qe},Ue="Hello";var Ke={helloWorld:Ue};const Qe="{{count}} day",Ye="{{count}} days",Je="{{count}} hour",Xe="{{count}} hours",Ze="{{count}} minute",en="{{count}} minutes",nn="{{count}} second",tn="{{count}} seconds";var on={days_one:Qe,days_other:Ye,hours_one:Je,hours_other:Xe,minutes_one:Ze,minutes_other:en,seconds_one:nn,seconds_other:tn};const rn={common:Ke,time:on},sn={fr:He,en:rn};oe.use(he).init({lng:"fr",fallbackLng:"fr",debug:!1,resources:sn});const an=n=>{const e=Math.floor(n/86400),o=Math.floor(n%(3600*24)/3600),s=Math.floor(n%3600/60),r=Math.floor(n%60);return[e,o,s,r]},N=(n,e)=>n>0?oe.t(`time:${e}`,{count:n}):"",A=n=>{const[e,o,s,r]=an(n);let i="";return r&&(i=N(r,"seconds")+i),s&&(i=N(s,"minutes")+" "+i),o&&(i=N(o,"hours")+" "+i),e&&(i=N(e,"days")+" "+i),i},ie=({totalDurationSeconds:n,roundDurationSeconds:e,playDurationSeconds:o,pauseDurationSeconds:s})=>{const r=A(n),i=A(e),a=A(e-o),c=A(s);return t(f,{align:"center",children:`Temps total de ${r} avec des tours de ${i}
           (dont ${a} de rotation)${s>0?` et une pause de ${c} \xE0 la mi-temps`:""}`})},cn=()=>{const{reset:n}=E(),{teams:e,rounds:o,selectedGames:s,eventTiming:r}=E(),i=D();return r?t(W,{children:u(g,{h:"100%",flexDirection:"column",justify:"space-between",alignItems:"center",children:[u(f,{align:"center",fontWeight:"bold",fontSize:"xl",children:["VOTRE OLYMPIADE POUR ",e.length," EQUIPES"]}),t(ie,O({},r)),t(ve,{rounds:o,games:s,hasPause:r.pauseDurationSeconds>0}),u(g,{justify:"space-around",w:"100%",children:[t(b,{onClick:()=>n(),children:"Reset \u21BA"}),t(b,{onClick:()=>i("/olympiade/1"),children:"Start! \u{1F525}"})]})]})}):null};var ln=[{name:"Archery"},{name:"Bubble"},{name:"L\xDC"},{name:"Mario Kart"},{name:"Blaze Pod"},{name:"Tchoukball"},{name:"Foot"},{name:"Badminton"},{name:"Padel"},{name:"Squash"},{name:"Volley"},{name:"Tennis de table"},{name:"P\xE9tanque"},{name:"Cornhole"},{name:"Palets"},{name:"Molkky"},{name:"Quilles Molles"},{name:"Fl\xE9chettes"},{name:"Baby Foot"},{name:"Glass Pong"},{name:"Mini Pong"},{name:"Spike Ball"}];const un=ln.sort((n,e)=>n.name.localeCompare(e.name)),mn=()=>{const n=D(),[e]=pe(),o=e.get("numberOfTeams"),{selectedGames:s,initializeTeams:r,toggleSelectGame:i}=E();if(!o)throw new Error("No gameId");w.exports.useEffect(()=>{if(isNaN(parseInt(o)))throw new Error("gameId is not a number");r(parseInt(o))},[o]);const a=s.length===parseInt(o)/2;return u(B,{p:"6",h:"100%",children:[u(g,{justify:"space-between",children:[u(f,{fontWeight:"bold",children:["Nombre de jeux s\xE9lectionn\xE9s : ",s.length,"/",parseInt(o)/2]}),t(b,{onClick:()=>n("/times"),disabled:!a,children:"Continuer \xBB"})]}),t(z,{py:6,h:"100%",templateColumns:"repeat(4, 1fr)",justifyContent:"center",alignItems:"center",gap:6,children:un.map((c,l)=>t(b,{isActive:s.includes(c),onClick:()=>i(c,a),children:c.name},l))})]})};var dn="/olympia/assets/logo_blanc.8e5a9182.png";const hn=()=>{re();const n=D(),{setTestMode:e}=E();return u(g,{h:"100%",flexDirection:"column",justify:"center",align:"center",children:[t("img",{src:dn,alt:"logo-le-sporting"}),u(g,{justify:"space-around",w:"30%",children:[t(b,{onClick:()=>{e(!1),n("/teams")},children:"Let's go! \u{1F525}"}),t(H,{orientation:"vertical"}),t(b,{onClick:()=>{e(!0),n("/teams")},children:"Test Mode \u{1F52C}"})]})]})},pn=()=>{const{t:n}=re(),e=D();return t(z,{h:"100%",templateColumns:"repeat(3, 1fr)",justifyContent:"center",alignItems:"center",gap:6,children:[4,6,8,10,12,14].map((s,r)=>t(b,{onClick:()=>{e({pathname:"/games",search:ge({numberOfTeams:s.toString()}).toString()})},children:n("common:teams",{count:s})},r))})},gn=()=>{const n=D(),{setCompetitionTime:e,selectedGames:o}=E(),s=o.length,[r,i]=w.exports.useState(12),[a,c]=w.exports.useState(5),[l,m]=w.exports.useState(10),d=r+a,h=(d*s+l)*60;return u(W,{children:[u(g,{justify:"space-between",mb:6,children:[t(f,{fontWeight:"bold",fontSize:"xl",children:"Votre timing"}),t(b,{onClick:()=>{e(r,a,l),n("/event")},children:"Continuer \xBB"})]}),t(ie,{totalDurationSeconds:h,roundDurationSeconds:d*60,playDurationSeconds:r*60,pauseDurationSeconds:l*60}),u(g,{flexDirection:"column",align:"center",h:"80%",children:[t(q,{label:"Temps de jeu",time:r,onIncrease:()=>i(r+1),onDecrease:()=>i(r-1)}),t(q,{label:"Temps de rotation entre les rounds",time:a,onIncrease:()=>c(a+1),onDecrease:()=>c(a-1)}),t(q,{label:"Temps de pause \xE0 la mi-temps des olympiades",time:l,onIncrease:()=>m(l+1),onDecrease:()=>m(l-1)})]})]})},fn=()=>{const{round:n}=X();if(!n)throw new Error("Round params is missing");const e=parseInt(n);if(isNaN(e))throw new Error("Round params must be castable as a number");const o=D(),{eventTiming:s,rounds:r,selectedGames:i}=E(),a=r[e-1];if(!s)throw new Error("Event timing is missing");const{playDurationSeconds:c}=s;return t(B,{p:"6",h:"100%",children:u(g,{justify:"center",align:"center",flexDirection:"column",children:[u(f,{fontSize:"6xl",fontWeight:"bold",children:["Tour n\xB0",e]}),t(f,{fontWeight:"bold",children:"Temps de jeu"}),t(Z,{startTime:c,onTimeEnd:()=>o(`/rotation/${n}`)}),t(z,{py:6,h:"100%",templateColumns:i.length>4?"repeat(3, 1fr)":"repeat(2, 1fr)",justifyContent:"center",alignItems:"center",gap:6,children:i.map((l,m)=>{const d=a[m][0],h=a[m][1];return u(g,{flexDirection:"column",align:"center",w:"100%",border:"1px solid white",borderRadius:"lg",p:3,children:[t(f,{fontWeight:"bold",pb:6,children:l.name}),u(g,{align:"center",children:[t(f,{children:d.name}),t(f,{px:"2em",children:"VS"}),t(f,{children:h.name})]})]},m)})})]})},e)};var xn="/olympia/assets/gong.52a01ca5.mp3";const wn=new Audio(xn),bn=()=>{const{round:n}=X();if(!n)throw new Error("Round params is missing");const e=parseInt(n);if(isNaN(e))throw new Error("Round params must be castable as a number");const o=D(),{eventTiming:s,rounds:r,selectedGames:i,countVictories:a}=E();if(!s)throw new Error("Event timing is missing");const{playDurationSeconds:c,roundDurationSeconds:l,pauseDurationSeconds:m}=s,d=r[e-1],h=e===r.length?null:r[e],[p,S]=w.exports.useState([]);w.exports.useEffect(()=>{wn.play()},[]);const v=($,I)=>{S(_=>{const y=[..._];if(y.includes($.name))return y;if(y.includes(I.name)){const x=y.indexOf(I.name);y.splice(x,1)}return y.push($.name),y})};return i.length>5,t(B,{h:"100%",children:u(g,{justify:"center",align:"center",flexDirection:"column",children:[u(f,{fontSize:"3xl",fontWeight:"bold",children:["R\xE9sultat du tour n\xB0",e]}),t(f,{fontWeight:"bold",children:"Temps de rotation"}),t(Z,{startTime:l-c}),t(z,{py:3,h:"100%",templateColumns:i.length>4?"repeat(3, 1fr)":"repeat(2, 1fr)",justifyContent:"center",alignItems:"center",gap:6,children:u(W,{children:[i.map(($,I)=>{const _=d[I][0],y=d[I][1];return u(g,{flexDirection:"column",align:"center",w:"100%",border:"1px solid white",borderRadius:"lg",p:3,children:[t(f,{fontWeight:"bold",pb:3,children:$.name}),u(g,{align:"center",children:[t(b,{isActive:p.includes(_.name),onClick:()=>v(_,y),children:_.name}),t(f,{px:"1em",children:"VS"}),t(b,{isActive:p.includes(y.name),onClick:()=>v(y,_),children:y.name})]})]},I)}),t(g,{justify:"center",align:"center",children:u(b,{disabled:p.length!==i.length,onClick:()=>{a(p),e===r.length?o("/results"):Math.round(i.length/2)===e&&m>0?o(`/pause/${parseInt(n)+1}`):o(`/olympiade/${parseInt(n)+1}`)},children:[e===r.length?"Resultats":"Tour suivant"," \xBB"]})})]})}),h&&t(Se,{games:i,round:h})]})},e)},yn=()=>{const{round:n}=X();if(!n)throw new Error("Round params is missing");const e=parseInt(n);if(isNaN(e))throw new Error("Round params must be castable as a number");const o=D(),{eventTiming:s}=E();if(!s)throw new Error("Event timing is missing");const{pauseDurationSeconds:r}=s;return t(B,{p:"6",h:"100%",children:u(g,{justify:"center",align:"center",flexDirection:"column",children:[t(f,{fontSize:"6xl",fontWeight:"bold",children:"PAUSE"}),t(Z,{startTime:r}),t(g,{justify:"center",align:"center",children:t(b,{onClick:()=>o(`/olympiade/${n}`),children:"Tour suivant"})})]})},e)},Tn=()=>{const{reset:n}=E(),{eventTiming:e}=E();return e?t(W,{children:u(g,{h:"100%",flexDirection:"column",justify:"space-between",alignItems:"center",children:[t(Be,{}),t(g,{justify:"center",w:"100%",children:t(b,{onClick:()=>n(),children:"Reset \u21BA"})})]})}):null},vn=()=>t(Te,{children:t(fe,{children:t($e,{children:u(xe,{children:[t(R,{path:"/",element:t(hn,{})}),t(R,{path:"teams",element:t(pn,{})}),t(R,{path:"games",element:t(mn,{})}),t(R,{path:"times",element:t(gn,{})}),t(R,{path:"event",element:t(cn,{})}),t(R,{path:"olympiade/:round",element:t(fn,{})}),t(R,{path:"rotation/:round",element:t(bn,{})}),t(R,{path:"pause/:round",element:t(yn,{})}),t(R,{path:"results",element:t(Tn,{})})]})})})}),ae=document.getElementById("root");if(!ae)throw new Error("No container found");const Sn=we(ae);Sn.render(t(J.StrictMode,{children:t(be,{children:t(vn,{})})}));
